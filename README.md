geoJSON
=======

I got sick of working with XML so I decided to give geoJSON a whirl. I wanted a lightweight transport format relative to XML and JSON is just the ticket. I must admit that geoJSON was a challenge but it was an emerging standard at the time so I figured it was a good thing to learn and promote. geoJSON is an unbalanced multi-dimensional construct that is easy to parse on the client but a bitch to create on the server without a readily available PHP class one can import. And PHP is nuts with single and double quote marks - sometimes they are interchangeable and sometimes you have to guess which one you must use from one line of code to the next. And SQL statements with embedded GET variables adds more to the complexity.

I was lucky I had any hair left, but eventually I did manage to create a routine in PHP to produce perfect geoJSON output. That piece of magic is the geoJSONFeed.php script that I wrote trial and error without any debugging tools. I'm not a PHP developer so I wasn't in the mood to learn how to use a PHP IDE given I was in over my head to begin with. I know enough PHP to write REST scripts on the server to get the data from a SQL database and ship it back to the client. I want to work with node.js and express.js so I can use JavaScript on both sides to simplify the process and that is my next project.

In this case, I was working with MS SQL so the geographic coordinates were stored as text lat and lng plus as a OGC compliant spatial Point datatype so spatial intersect queries could be performed in the database - which wins hands down relative to the same process using ArcGIS server and REST geoprocessing services. As an aside, if one needs to do an spatial intersect with a polygon, such as a buffer, ArcGIS Server cannot handle intersect geometry with more than 250 vertices. It just craps out forcing one to generalize the geometry using distance deviation factors. Total rubbish. But I digress. The point is I also needed to convert my geometry into WKT for the REST services and no ESRI class to do that. I figure ESRI wants us to pay outrageous licensing fees for ArcGIS Server so one can use JPEG map services with no objects.

And I also had to learn PDO on the fly to accomodate SQL Injection concerns. I aced that puppy and yet another valuable coding experience. By the way the widgets are written in Flex using the ArcGIS Viewer for Flex on the client side. I'm sorry the code is not commented, but it is nicely spaced out for your viewing pleasure. This code covers a lot of bases.

This is actual client work but soon after I did all of this, the client decided they wanted to go the JavaScript route using the ArcGIS JavaScript API instead. That work was done by someone else so this code is deprecated and buried...
